section .bss

align 16
stack:
    resb 32768
  .top:

section .text

global efi_main
extern uefi_entry
efi_main:
    lea rax, [rel stack.top]
    sub rax, 8
    mov rsp, rax

    xor eax, eax
    jmp uefi_entry

section .note.GNU-stack noalloc noexec nowrite progbits
